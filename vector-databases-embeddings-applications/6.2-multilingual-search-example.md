---
layout: default
title: 6.2 Multilingual Search Example
nav_order: 1
description: ".."
has_children: false
parent:  6. MultiLingual Search
grand_parent:  Vector Databases and Embeddings - Weaviate
mathjax: true
---

## How RAG works for Multilingual Search

Here is  very quick illustration of how a full RAG query works

First, we start with a query to a vector database, which obtains all the relevant source objects. Then, 
we can combine these together with a prompt and then send it to the LLM, which then will go 
and generate the response that we are interested in. And here's a very quick example of a code to perform RAG. You can see it's very similar to what we've done in the past with the queries, except this time we are adding the part with generate. 

But I'm not gonna spend too much time on it because I'd like to do it in code. Let's prepare our JSON print function and this time for our demo we'll be using an already deployed instance of Weaviate in the cloud, which utilizes Cohere's multilingual models.


### 1. Load the Client

```python
def json_print(data):
    print(json.dumps(data, indent=2))
```

Create a client which connects to Weaviate and Cohere.

```python
import weaviate, os, json
import openai
from dotenv import load_dotenv, find_dotenv
_ = load_dotenv(find_dotenv()) # read local .env file

auth_config = weaviate.auth.AuthApiKey(api_key=os.getenv("WEAVIATE_API_KEY"))

client = weaviate.Client(
    url=os.getenv("WEAVIATE_API_URL"),
    auth_client_secret=auth_config,
    additional_headers={
        "X-Cohere-Api-Key": os.getenv("COHERE_API_KEY"),
        "X-Cohere-BaseURL": os.getenv("CO_API_URL")
    }
)

client.is_ready() #check if True
```

    {
    "data": {
        "Aggregate": {
        "Wikipedia": [
            {
            "meta": {
                "count": 4306800
            }
            }
        ]
        }
    }
    }

### 2. How many vectors are stored in this database


```python
print(json.dumps(client.query.aggregate("Wikipedia").with_meta_count().do(), indent=2))
```

### 3. Perform search over them to find concepts you are interested in!


```python
response = (client.query
            .get("Wikipedia",['text','title','url','views','lang'])
            .with_near_text({"concepts": "Vacation spots in california"})
            .with_limit(5)
            .do()
           )

json_print(response)
```


```python
response = (client.query
            .get("Wikipedia",['text','title','url','views','lang'])
            .with_near_text({"concepts": "Vacation spots in california"})
            .with_where({
                "path" : ['lang'],
                "operator" : "Equal",
                "valueString":'en'
            })
            .with_limit(3)
            .do()
           )

json_print(response)
```


```python
response = (client.query
            .get("Wikipedia",['text','title','url','views','lang'])
            .with_near_text({"concepts": "Miejsca na wakacje w Kalifornii"})
            .with_where({
                "path" : ['lang'],
                "operator" : "Equal",
                "valueString":'en'
            })
            .with_limit(3)
            .do()
           )

json_print(response)
```


```python
response = (client.query
            .get("Wikipedia",['text','title','url','views','lang'])
            .with_near_text({"concepts": "أماكن العطلات في كاليفورنيا"})
            .with_where({
                "path" : ['lang'],
                "operator" : "Equal",
                "valueString":'en'
            })
            .with_limit(3)
            .do()
           )

json_print(response)
```